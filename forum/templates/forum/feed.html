{% extends "forum\base.html" %}
{% block content %}
    <h1>Fil d'actualit√©</h1>
    <div class="posts">
        {% for post in posts %}
            <div class="post">
                <h3>{{ post.author.user.username }}</h3>
                <p>{{ post.content }}</p>
                {% if post.image %}
                    <img src="{{ post.image.url }}" alt="Image de la publication">
                {% endif %}
                <p>{{ post.created_at|date:"d M Y, H:i" }}</p>
                
                <!-- Boutons pour les interactions -->
                <a href="{% url 'like_post' post.id %}">J'aime ({{ post.likes.count }})</a>
                <a href="{% url 'add_comment' post.id %}">Commenter ({{ post.comments.count }})</a>
                
                <!-- Afficher les commentaires -->
                <div class="comments">
                    {% for comment in post.comments.all %}
                        <p><strong>{{ comment.author.user.username }}:</strong> {{ comment.content }}</p>
                    {% endfor %}
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}
